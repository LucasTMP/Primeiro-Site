<html>
<head>
<title> Teste Form </title>
</head>
<body>
</br>
</br>
<form method="post"  action="gravar.jsp" name="cliform">
</br>
<input type="text"  name="clinome" >
</br>
<input type="text" name="clicpf">
</br>
<input type="email" name="cliemail">
</br>
<input type="password" name="clisenha">
</br>
<input type="button" value="Registrar" onclick="clivali()">
</br>
<input type="reset" value="Limpar">
</from>


<script type="text/javascript">

function clivali(){
//Validar Nome do cliente---------------------------------------------------------------------------
      var nomecli;
      nomecli= document.cliform.clinome.value;
      if (nomecli == "" || nomecli.length == 0) {
        alert("Preencha o campo nome.");
        document.cliform.clinome.focus();
        document.cliform.clinome.style.background = "#ffcc99";
        document.cliform.clinome.value = "";
        document.cliform.clicpf.style.background = "#f2f2f2";
        document.cliform.cliemail.style.background = "#f2f2f2";
        document.cliform.clisenha.style.background = "#f2f2f2";
        return false
          }

//Validar e verificar cpf do cliente----------------------------------------------------------------------
          var ccpf, cpfsoma, cpfresto;
          soma = 0;
          ccpf = document.cliform.clicpf.value;
          if ((ccpf=="") || (ccpf.length == 0) || (ccpf.length > 11) || (ccpf == "00000000000") || (ccpf == "11111111111") || (ccpf == "22222222222") || (ccpf == "33333333333") || (ccpf == "44444444444") || (ccpf == "55555555555") || (ccpf == "66666666666") || (ccpf == "77777777777") || (ccpf == "88888888888") || (ccpf == "99999999999")){
                        alert("Preencha o campo CPF corretamente.");
                        document.cliform.clicpf.focus();
                        document.cliform.clicpf.style.background = "#ffcc99";
                        document.cliform.clicpf.value = "";
                        document.cliform.clinome.style.background = "#f2f2f2";
                        document.cliform.cliemail.style.background = "#f2f2f2";
                        document.cliform.clisenha.style.background = "#f2f2f2";
                        return false
              } else {
                      //valida 1 digito
                      cpfsoma = 0;
	                     for (i=0; i < 9; i ++){
		                     cpfsoma += parseInt(ccpf.charAt(i)) * (10 - i);
		                       cpfresto = 11 - (cpfsoma % 11);
                                      }
		                         if (cpfresto == 10 || cpfresto == 11){
			                          cpfresto = 0;
                                          }

		                              if (cpfresto != parseInt(ccpf.charAt(9))){
                                  alert("Digite um CPF válido.");
                                  document.cliform.clicpf.focus();
                                  document.cliform.clicpf.style.background = "#ffcc99";
                                  document.cliform.clicpf.value = "";
                                  document.cliform.clinome.style.background = "#f2f2f2";
                                  document.cliform.cliemail.style.background = "#f2f2f2";
                                  document.cliform.clisenha.style.background = "#f2f2f2";
			                         return false;
                                            }

                            //valida 2 digito
                            cpfsoma = 0;
                              for (i = 0; i < 10; i ++){
                              cpfsoma += parseInt(ccpf.charAt(i)) * (11 - i);
                              cpfresto = 11 - (cpfsoma % 11);
                                            }
                                if (cpfresto == 10 || cpfresto == 11){
                                  cpfresto = 0;
                                            }
                              if (cpfresto != parseInt(ccpf.charAt(10))){
                                alert("Digite um CPF válido.");
                                document.cliform.clicpf.focus();
                                document.cliform.clicpf.style.background = "#ffcc99";
                                document.cliform.clicpf.value = "";
                                document.cliform.clinome.style.background = "#f2f2f2";
                                document.cliform.cliemail.style.background = "#f2f2f2";
                                document.cliform.clisenha.style.background = "#f2f2f2";
                                return false;
                                          }
              }
//Validar e verificar email do cliente----------------------------------------------------------------------------------
        var emailcli;
        emailcli = document.cliform.cliemail.value;
        if ((emailcli=="") || (emailcli.length <= 7) || (emailcli=="@") || (emailcli.indexOf("@") < 0)){
          alert("Digite um endereço de E-mail válido.");
          document.cliform.cliemail.focus();
          document.cliform.cliemail.style.background = "#ffcc99";
          document.cliform.cliemail.value = "";
          document.cliform.clinome.style.background = "#f2f2f2";
          document.cliform.clicpf.style.background = "#f2f2f2";
          document.cliform.clisenha.style.background = "#f2f2f2";
          return false;
        }

        //colocar algo depois do @
        var x;
        x = emailcli.indexOf("@")
        x = eval(x)
        x = (x + 1)

        if (emailcli.charAt(x) == "") {
        alert("Digite um endereço de E-mail válido.");
        document.cliform.cliemail.focus();
        document.cliform.cliemail.style.background = "#ffcc99";
        document.cliform.cliemail.value = "";
        document.cliform.clinome.style.background = "#f2f2f2";
        document.cliform.clicpf.style.background = "#f2f2f2";
        document.cliform.clisenha.style.background = "#f2f2f2";
        return false;
        }

//validar e verificar senha do cliente-------------------------------------------------------------------------------
        var senhacli;
        senhacli = document.cliform.clisenha.value;
        if ((senhacli =="") || (senhacli.length < 4)){
          alert("Senha: 4 ou mais digitos");
          document.cliform.clisenha.focus();
          document.cliform.clisenha.style.background = "#ffcc99";
          document.cliform.clisenha.value = "";
          document.cliform.clinome.style.background = "#f2f2f2";
          document.cliform.clicpf.style.background = "#f2f2f2";
          document.cliform.cliemail.style.background = "#f2f2f2";
          return false;
        }
        //ter numero e letra
          var lmais = 0;
          var numero = 0;
          var i = 0
            for (i; i <= senhacli.length; i++) {
              var valorAscii = senhacli.charCodeAt(i)
              // A- Z
              if (valorAscii >= 65 && valorAscii <= 90)
                lmais++;
              // 0 - 9
              if (valorAscii >= 48 && valorAscii <= 57)
                numero++;
                      }

        if ((lmais < 1 || numero < 1) || (senhacli=="1234") || (senhacli== "4321") || (senhacli.charAt(0) == senhacli.charAt(1)) & (senhacli.charAt(1) == senhacli.charAt(2)) & (senhacli.charAt(2) == senhacli.charAt(3))){
          alert("Senha: deve ser mais forte e conter no mínimo 1 número e uma letra maiúscula.");
          document.cliform.clisenha.focus();
          document.cliform.clisenha.style.background = "#ffcc99";
          document.cliform.clisenha.value = "";
          document.cliform.clinome.style.background = "#f2f2f2";
          document.cliform.clicpf.style.background = "#f2f2f2";
          document.cliform.cliemail.style.background = "#f2f2f2";
          return false;
        }


//mandar para o banco de dados----------------------------------------------------------------------
document.cliform.submit();
}


</script>


</body>
</html>
